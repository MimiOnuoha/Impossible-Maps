<!-- To get this data in the right format, I had to download it from the NYC open data website and use the csv2geojson module to change it to geojson. See "useful-things" in the week-four folder for instructions on how to do this yourself. --> 

<!DOCTYPE html>
<html lang="en">

<head>
    
     <style> 
    body { margin: 0; padding: 0; }
    html,
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }

  .map-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    background: rgba(255, 255, 255, 0.8);
    margin-left: 20px;
    font-family: Arial, sans-serif;
    overflow: auto;
    border-radius: 3px;
  }

  #features {
    top: 0;
    height: 100px;
    margin-top: 20px;
    width: 250px;
  }

 h2, p {
    color: black;
    margin: 10px;
 }

    </style>


    <title> Vector Map with Legend </title>
 <script src='https://api.mapbox.com/mapbox-gl-js/v0.40.1/mapbox-gl.js'></script>
 <link href='https://api.mapbox.com/mapbox-gl-js/v0.40.1/mapbox-gl.css' rel='stylesheet' />
</head>

<body>
    <div id="map" class ="mapboxgl-map"></div>
    <div class="map-overlay" id="features">
    <h2> Map Title </h2>
    <div id ="pd"> 
        <p> Something goes here </p>
    </div>
</div>
   

    <script>
    mapboxgl.accessToken = 'YOUR API KEY HERE';
    
    var map = new mapboxgl.Map({
        container: 'map', // you need this
        style: 'mapbox://styles/mapbox/light-v9', // you also need this
        center: [-74.0006213, 40.7229971], // [long, lat] Different than leaflet, different than google maps, same as geojson! 
        zoom: 14,
        bearing: 30,
        pitch: 30
    });

    map.on('load', function(){
       map.addSource("gardens", { type: "geojson", data: './data/nyc_community_gardens.geojson'
         });
       map.addLayer({
           id: 'gardens',
           type: "circle",
           source: "gardens",
           paint: {
               "circle-radius": {
                    base: 1.75,
                    stops: [[12,2], [22, 180]]
               },
               'circle-color': {
                    property: 'NeighborhoodName',
                    type:'categorical',
                    stops: [
                        ["East Village", '#fbb03b'],
                        ["East Harlem", '#1a34c9'],
                        ["Melrose", '#e7164a'],
                        ["East New York", '#feff4d'],
                        ["Bed-Stuy", '#38fd19']
                    ]
               }
               }
           })

    })



 

    </script>
</body>

</html>